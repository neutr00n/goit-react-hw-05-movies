{"version":3,"file":"static/js/814.fd8d6d25.chunk.js","mappings":"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","sources":["components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","components/MoviesItem/MoviesItem.styled.jsx","components/MoviesItem/MoviesItem.jsx","components/MoviesList/MoviesList.styled.jsx","components/MoviesList/MoviesList.jsx","helpers/api/moviesAPI.js","components/TitlePage/TitlePage.styled.jsx","components/TitlePage/TitlePage.jsx","components/PeriodBtn/PeriodBtn.styled.jsx","components/PeriodBtn/PeriodBtn.jsx","hooks/useLocalStorage.js","helpers/LocalStorage/LocalStorage.js","pages/Home.jsx"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const Box = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 85vh;\n`;\n","import { Oval } from 'react-loader-spinner';\nimport { Box } from './Loader.styled';\n\nexport const Loader = () => {\n  return (\n    <Box>\n      <Oval\n        height={180}\n        width={180}\n        color=\"#4fa94d\"\n        wrapperClass=\"\"\n        visible={true}\n        ariaLabel=\"oval-loading\"\n        secondaryColor=\"#4fa94d\"\n        strokeWidth={2}\n        strokeWidthSecondary={2}\n      />\n    </Box>\n  );\n};\n","import styled from '@emotion/styled';\nimport { NavLink } from 'react-router-dom';\n\nexport const NavigLink = styled(NavLink)`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\nexport const Box = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 10px;\n  background-color: #332f2f;\n  flex-grow: 1;\n`;\n\nexport const Title = styled.h2`\n  margin-bottom: 10px;\n  text-align: center;\n\n  font-size: 16px;\n  color: #6cdceb;\n`;\n\nexport const Raiting = styled.b`\n  display: inline-block;\n\n  font-size: 14px;\n  color: #6cdceb;\n`;\n\nexport const RaitingDesrip = styled.p`\n  display: inline-block;\n  margin-left: 8px;\n  padding: 2px 8px;\n\n  font-size: 14px;\n  color: #332f2f;\n  background-color: #5fe6b9;\n  border-radius: 4px;\n`;\nexport const Img = styled.img`\n  height: 400px;\n`;\n","import {\n  NavigLink,\n  Box,\n  Title,\n  Raiting,\n  RaitingDesrip,\n  Img,\n} from './MoviesItem.styled';\nimport PropTypes from 'prop-types';\n\nexport const MoviesItem = ({ id, title, raiting, poster, location }) => {\n  const imgUrl = poster\n    ? `https://image.tmdb.org/t/p/w300/${poster}`\n    : 'https://upload.wikimedia.org/wikipedia/commons/6/64/Poster_not_available.jpg';\n\n  const to = location.pathname === '/' ? `movies/${id}` : id;\n\n  return (\n    <NavigLink to={`${to}`} state={{ from: location }}>\n      <Img src={imgUrl} alt={`${title} poster`} />\n      <Box>\n        <Title>{title}</Title>\n        <div>\n          <Raiting>Raiting:</Raiting>\n          <RaitingDesrip>{raiting.toFixed(2)}</RaitingDesrip>\n        </div>\n      </Box>\n    </NavigLink>\n  );\n};\n\nMoviesItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  raiting: PropTypes.number.isRequired,\n  poster: PropTypes.string,\n  location: PropTypes.object.isRequired,\n};\n","import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15px;\n`;\n\nexport const Item = styled.li`\n  flex-basis: calc((100% - 15px * (5 - 1)) / 5);\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 5px 5px 3px 0px rgba(0, 0, 0, 0.5);\n  transition: scale 200ms linear;\n\n  &:hover,\n  &:focus {\n    scale: 1.04;\n  }\n`;\n","import { MoviesItem } from '../MoviesItem/MoviesItem';\nimport { List, Item } from './MoviesList.styled';\nimport PropTypes from 'prop-types';\n\nexport const MoviesList = ({ items, location }) => {\n  return (\n    <List>\n      {items.map(({ id, original_title, vote_average, poster_path }) => (\n        <Item key={id}>\n          <MoviesItem\n            id={id}\n            title={original_title}\n            poster={poster_path}\n            raiting={vote_average}\n            location={location}\n          />\n        </Item>\n      ))}\n    </List>\n  );\n};\n\nMoviesList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    })\n  ),\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst searchParams = new URLSearchParams({\n  api_key: '193a1318aa83a5b49d1c16448163261b',\n});\n\nexport async function fetchMovies(period) {\n  const response = await axios.get(`/trending/movie/${period}?${searchParams}`);\n  return response.data.results;\n}\n\nexport async function fetchMoviesByID(id) {\n  const response = await axios.get(`/movie/${id}?${searchParams}`);\n  return response.data;\n}\n\nexport async function fetchActorsById(id) {\n  const response = await axios.get(`/movie/${id}/credits?${searchParams}`);\n  return response.data.cast;\n}\n\nexport async function fetchReviewsById(id) {\n  const response = await axios.get(`/movie/${id}/reviews?${searchParams}`);\n  return response.data;\n}\n\nexport async function fetchMoviesBySearch(value) {\n  const response = await axios.get(\n    `/search/movie?${searchParams}&query=${value}`\n  );\n  return response.data;\n}\n","import styled from '@emotion/styled';\n\nexport const Title = styled.h1`\n  margin-bottom: 20px;\n  text-align: center;\n  font-size: 36px;\n  text-transform: uppercase;\n`;\n","import { Title } from './TitlePage.styled';\nimport PropTypes from 'prop-types';\n\nexport const TitlePage = ({ children }) => {\n  return <Title>{children}</Title>;\n};\n\nTitlePage.propTypes = {\n  children: PropTypes.node,\n};\n","import styled from '@emotion/styled';\n\nexport const Box = styled.div`\n  position: absolute;\n  top: 2px;\n  right: 60px;\n`;\n\nexport const Text = styled.p`\n  display: inline-block;\n  font-size: 18px;\n  font-weight: 500;\n`;\n\nexport const Btn = styled.button`\n  margin-left: 10px;\n  min-width: 73px;\n\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 10px 15px;\n\n  font-weight: 600;\n  color: #fff;\n  background-color: transparent;\n  border: none;\n  box-shadow: 0px 0px 5px 0px rgba(0, 0, 0, 0.5);\n\n  border: 1px solid black;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: background-color 200ms linear;\n\n  :hover:not(.active),\n  :focus:not(.active) {\n    background-color: #0d17a7;\n  }\n`;\n","import { Box, Text, Btn } from './PeriodBtn.styled';\nimport PropTypes from 'prop-types';\n\nexport const PeriodBtn = ({ handleFindBtnClick, period }) => {\n  const btnText = period === 'day' ? 'Week' : 'Day';\n  return (\n    <Box>\n      <Text>Show by:</Text>\n      <Btn type=\"button\" onClick={handleFindBtnClick}>\n        {btnText}\n      </Btn>\n    </Box>\n  );\n};\n\nPeriodBtn.propTypes = {\n  handleFindBtnClick: PropTypes.func.isRequired,\n  period: PropTypes.string.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport {\n  setLocalStorage,\n  getLocalStorage,\n} from '../helpers/LocalStorage/LocalStorage';\n\nexport function useLocalStorage(key, defaultValue) {\n  const [state, setState] = useState(() => getLocalStorage(key, defaultValue));\n\n  useEffect(() => {\n    setLocalStorage(key, state);\n  }, [key, state]);\n\n  return [state, setState];\n}\n","export function setLocalStorage(key, value) {\n  try {\n    const stringifyValue = JSON.stringify(value);\n    localStorage.setItem(key, stringifyValue);\n  } catch (error) {\n    throw new Error('Set state error: ', error.message);\n  }\n}\n\nexport function getLocalStorage(key, defaultValue) {\n  try {\n    const storageValue = localStorage.getItem(key);\n    return storageValue === null ? defaultValue : JSON.parse(storageValue);\n  } catch (error) {\n    throw new Error('Get state error: ', error.message);\n  }\n}\n","import { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { fetchMovies } from '../helpers/api/moviesAPI';\nimport { MoviesList } from '../components/MoviesList/MoviesList';\nimport { TitlePage } from '../components/TitlePage/TitlePage';\nimport { Loader } from '../components/Loader/Loader';\nimport { PeriodBtn } from '../components/PeriodBtn/PeriodBtn';\nimport { useLocalStorage } from '../hooks/useLocalStorage';\n\nconst STATUS = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst LOCAL_STOR_PERIOD_KEY = 'trendingPeriod';\n\nconst Home = () => {\n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState(STATUS.IDLE);\n  const [period, setPeriod] = useLocalStorage(LOCAL_STOR_PERIOD_KEY, 'day');\n  const location = useLocation();\n\n  const handleFindBtnClick = () => {\n    switch (period) {\n      case 'day':\n        setPeriod('week');\n        break;\n\n      case 'week':\n        setPeriod('day');\n        break;\n\n      default:\n        return console.error('Unknown find by type');\n    }\n  };\n\n  useEffect(() => {\n    setStatus(STATUS.PENDING);\n\n    fetchMovies(period)\n      .then(movies => {\n        setMovies(movies);\n        setStatus(STATUS.RESOLVED);\n      })\n      .catch(error => {\n        setStatus(STATUS.REJECTED);\n        throw new Error(error.message);\n      });\n  }, [period]);\n\n  const title = period === 'day' ? 'Trending today' : 'Trending this week';\n\n  return (\n    <>\n      <TitlePage>{title}</TitlePage>\n      <PeriodBtn handleFindBtnClick={handleFindBtnClick} period={period} />\n      <MoviesList items={movies} location={location} />\n      {status === STATUS.PENDING && <Loader />}\n    </>\n  );\n};\n\nexport default Home;\n"],"names":["Box","styled","Loader","height","width","color","wrapperClass","visible","ariaLabel","secondaryColor","strokeWidth","strokeWidthSecondary","NavigLink","NavLink","Title","Raiting","RaitingDesrip","Img","MoviesItem","id","title","raiting","poster","location","imgUrl","to","pathname","state","from","src","alt","toFixed","List","Item","MoviesList","items","map","original_title","vote_average","poster_path","axios","searchParams","URLSearchParams","api_key","fetchMovies","period","response","data","results","fetchMoviesByID","fetchActorsById","cast","fetchReviewsById","fetchMoviesBySearch","value","TitlePage","children","Text","Btn","PeriodBtn","handleFindBtnClick","btnText","type","onClick","useLocalStorage","key","defaultValue","useState","storageValue","localStorage","getItem","JSON","parse","error","Error","message","getLocalStorage","setState","useEffect","stringifyValue","stringify","setItem","setLocalStorage","STATUS","movies","setMovies","status","setStatus","setPeriod","useLocation","then","catch","console"],"sourceRoot":""}